2005-02-14  Timo Schulz  <twoaday@g10code.de>

	* GPGExch.cpp (OnRead): Check return value. Noted by Dennis Martin.
	Free all buffers and be stricter with return codes.
	* GPGMessage.cpp (isUnset): Likewise.
	* GPG.cpp (ProcessAttachments): If we only sign without encryption,
	add .sig and not .pgp. Also noted by Dennis Martin.
		
2005-01-18  Timo Schulz  <twoaday@g10code.de>

	* GPGExch.cpp (ExchLogInfo): New.
	(OnRead): Log all errors.

2004-11-17  Timo Schulz  <twoaday@g10code.de>

	* GPG.cpp (ReadGPGOptions): Initialize m_LogFile to NULL.
	(DecryptMessage): Delete temp file left over from a possible
	cleartext verification. Noted by Achim.

2004-10-27  Timo Schulz  <twoaday@g10code.de>

	* GPG.cpp (ProcessAttachments): Set default extension to
	PGP since this will enhance the PGP compatibility.
	* GPGExch.cpp (OnRead): Supress the question if we the
	mail is application/pgp.

2004-10-25  Timo Schulz  <twoaday@g10code.de>

	* GPG.cpp (CheckPGPMime): Generic function to figure out the
	MIME type and to provide an interface for upcoming PGP/MIME
	support.
	(ConvertOldPGP): Convert application/pgp message to
	inline-PGP messages readable by Outlook.
	(MsgFromFile): New. Factored out some common code.
	* GPGExch.cpp (OnRead): Use the new code.

2004-10-06  Timo Schulz  <twoaday@g10code.de>

	* GPGExch.cpp (OnRead): Show the original message
	if the decryption was canceled.
	
	Ask if the user also wants to decrypt the attachments.

2004-09-08  Timo Schulz  <twoaday@g10code.de>

	* GPG.cpp (~CGPG): New. Destructor to free
	memory which was internally used.
	(SetLogFile): Use char* instead of BSTR.
	(GetLogFile): Likewise.
	(GPGOptionsDlgProc): Changed all callers.
	(Init): Enable logginf if requested.

2004-09-06  Timo Schulz  <twoaday@g10code.de>

	* GDGPGWrapper.cpp (SetLogLevel): New.
	(SetLogFile): New.
	* GPGOptionsDlg.cpp (GPGOptionsDlgProc): Implement logging field.
	* GPG.cpp (ReadGPGOptions): Likewise.
	(WriteGPGOptions): Likewise.

2004-08-23  Timo Schulz  <twoaday@freakmail.de>

	* GPG.cpp (EncryptAndSignMessage): Kludge to
	set the message. After the new GPG I/O subsystem,
	the old code does not work any longer.

	* GPGExch.cpp (OnRead): Support for PGP keys. Do
	not process unsent messages.

2004-08-01  Timo Schulz  <twoaday@freakmail.de>

	* GPG.cpp (QuotedPrintEncode): New.

2004-07-31  Timo Schulz  <twoaday@freakmail.de>

	* GDGPGWrapper.cpp (VerifyDetachedSignature): New.
	* GPG.cpp (VerifyDetachedSignature): New.

2004-07-27  Timo Schulz  <twoaday@freakmail.de>

	* GPG.cpp (CheckPGPMime): New.
	(ProcessPGPMime): New.

2004-07-24  Timo Schulz  <twoaday@freakmail.de>

	* GPGExch.cpp (OnRead): Use the internal GPG object to
	use passphrase caching. Do not modify the message in
	case of an error.

	Output GPG messages as the message body.

	* GPG.cpp (DecryptFile): New. Internal function.
	(CGPG): Initialize m_gpgStderr and m_gpgInfo to zero.
	(GetGPGOutput): New.
	(GetGPGInfo): New.

	* GDGPGWrapper.cpp (GetGPGOutput): New.


2004-07-20  Timo Schulz  <twoaday@freakmail.de>

	* GPGExch.cpp (OnRead): Implemented the decryption of
	messages to answer the plaintext.

	* GPGOptionsDlg.cpp (GPGOptionsDlgProc): Added all involved
	parties in the 'About Info'.

